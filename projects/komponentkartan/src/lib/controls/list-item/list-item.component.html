<div class="list-item" [class.list-item--notification-visible]="temporaryNotification || permanentNotification" [class.list-item--expanded]="isExpanded" [ngClass]="notificationColor" [@deleted] (@deleted.done)="triggerDeletedEvent()" *ngIf="!isDeleted">
  <div class="list-item__header_wrapper" 
  (click)="toggleExpanded()" (keydown)="keydown($event)"
  tabindex="0" [attr.aria-expanded]="isExpanded" role="listitem">
    <vgr-icon icon="chevron-down" size="sm"></vgr-icon>
    <ng-content select="vgr-list-item-header">
    </ng-content>
    <vgr-icon [icon]="'chevron-down'" [size]="'sm'"></vgr-icon>
  </div>
  <!-- Denna notis visas när det finns en permanent notis men ingen temporär -->
  <div *ngIf="permanentNotification && !temporaryNotificationVisible" class="list-item__notification" (click)="toggleExpanded()">
    <vgr-icon
      [icon]="permanentNotification.icon.name"
      [color]="permanentNotification?.icon.color"
      [solid]="permanentNotification?.icon.solid">
    </vgr-icon>
    <div class="list-item__notification__message">
      {{permanentNotification? permanentNotification.message : ''}}
    </div>
  </div>
  <!-- Denna notis visas när det endast finns en temporär notis -->
  <div *ngIf="temporaryNotification && !permanentNotification" class="list-item__notification" [@toggleFadedState] (@toggleFadedState.done)="closeTemporary(notification)" (click)="toggleExpanded()">
    <vgr-icon
      [icon]="temporaryNotification.icon.name"
      [color]="temporaryNotification?.icon.color"
      [solid]="temporaryNotification?.icon.solid">
    </vgr-icon>
    <div class="list-item__notification__message">
      {{temporaryNotification? temporaryNotification.message : ''}}
    </div>
  </div>
  <!-- Denna notis visas när det finns en permanent notis som skall ses åter när den temorärar är klar -->
  <div *ngIf="temporaryNotification && permanentNotification" class="list-item__notification" [@toggleFadedState0ms] (@toggleFadedState0ms.done)="closeTemporary(notification)" (click)="toggleExpanded()">
    <vgr-icon
      [icon]="temporaryNotification?.icon.name"
      [color]="temporaryNotification?.icon.color"
      [solid]="temporaryNotification?.icon.solid">
  </vgr-icon>
    <div class="list-item__notification__message">
      {{temporaryNotification? temporaryNotification?.message : ''}}
    </div>
  </div>
  <div [@toggleState]="{value: isExpanded, params: {animationSpeed: animationSpeed}}" class="list-item-content" (@toggleState.done)="overflow=true" (@toggleState.start)="overflow=false" [ngClass]="{'overflow-visible': overflow}">
    <ng-content select="vgr-list-item-content"></ng-content>
  </div>
</div>
