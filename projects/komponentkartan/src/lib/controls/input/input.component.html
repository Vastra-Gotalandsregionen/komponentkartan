<div class="custominput" [ngClass]="{ 'validation-error--active': errorActive, 'validation-error--editing': hasFocus }">
  <div class="validation" [ngClass]="{ 'readonly': readonly }">
    <div>
      <div class="inputwrapper" role="textbox" [tabindex]="disabledControl ? 0 : -1"
        [attr.aria-disabled]="disabledControl"
      [ngClass]="{
        'alignRight': textAlign === 'right',
        'disabled_focus': disabledControl
      }">
        @if (prefix) {
          <div class="prefix">{{prefix}}</div>
        }

        <input
          [attr.id]="labelId"
          [type]="type"
          [attr.min]="min"
          [attr.max]="max"
          [disabled]="disabledControl"
          [attr.minlength]="minlength"
          [attr.maxlength]="maxlength"
          [attr.pattern]="pattern"
          [placeholder]="disabledControl ? '' : placeholder"
          [readonly]="readonly"
          [required]="required"
          [attr.step]="step"
          [name]="name"
          [value]="value"
          (search)="onChange($event)"
          (input)="onChange($event)"
          (mousedown)="onClickFocus($event)"
          (focus)="onFocus($event)"
          (blur)="onBlur($event)"
          #inputElement
          [attr.aria-describedby]="elementId"
          [attr.aria-invalid]="errorActive">
          @if (suffix) {
            <div class="suffix">{{suffix}}</div>
          }
          @if (type === 'search') {
            <div class="searchicon">
              <vgr-icon icon="search"></vgr-icon>
            </div>
          }
          <span class="screenreader_only" aria-disabled="true">{{value}}</span>
        </div>
      </div>
      @if (errorActive) {
        <div [attr.id]="elementId" class="validation__status" [attr.aria-live]="errorActive ? 'assertive' : 'off'">
          <vgr-icon icon="exclamation-circle" size="sm" class="validation_status__icon"></vgr-icon>
          @if (control) {
            <div class="validation__status__message">{{errorMessage | errorMessage: control.errors : getLabelFromId() : false}}</div>
          }
          @if (!control) {
            <div class="validation__status__message">{{errorMessage}}</div>
          }
        </div>
      }
    </div>
  </div>
