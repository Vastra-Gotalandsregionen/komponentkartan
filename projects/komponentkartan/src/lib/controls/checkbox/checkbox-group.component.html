<div [ngClass]="{ 'checkbox-group-validation-error--active': errorActive}" class="checkbox-group" >
  <div class="checkbox-group-validation" >
    <div
      id="checkboxlist"
      [attr.aria-labelledby]="elementId"
      (keydown)="keyDown($event)" (focusout)="onLeave($event)"
      [attr.aria-disabled]="_disabled"
      tabindex="{{_disabled ? 0 : -1}}"
      role="list"
      [ngClass]="{'vertical' : vertical}"
      [attr.aria-invalid]="errorActive"
      >
      <ng-content select="vgr-checkbox"></ng-content>
    </div>
  </div>
  @if (errorActive) {
    <div [attr.id]="elementId" class="checkbox-group-validation_status" [title]="validationErrorMessage" [attr.aria-live]="'assertive'">
      <vgr-icon icon="exclamation-circle" size="sm" class="checkbox-group-validation_status__icon"></vgr-icon>
      @if (control) {
        <div class="checkbox-group-validation_status__message">{{validationErrorMessage | errorMessage: control.errors : getLabelFromId() : false}}</div>
      }
      @if (!control) {
        <div class="checkbox-group-validation_status__message">{{validationErrorMessage}}</div>
      }
    </div>
  }
</div>
