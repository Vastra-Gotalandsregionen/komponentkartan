@if (visible) {
  <div class="search-results" [ngStyle]="{'width': width }">
    @if (!items || items?.length === 0) {
      <div class="search-results__noresults">
        {{noResultsText}}
      </div>
    }
    @if (description || items?.length > maxItems) {
      <div class="search-results__description">
        @if (description) {
          <p class="search-results__description-field">{{description}}</p>
        }
        @if (items?.length > maxItems) {
          <p class="search-results__description-static">
            <strong>Endast de {{maxItems}} första träffarna visas.</strong> Begränsa din sökning genom att ange mer specifika sökkriterier.
          </p>
        }
      </div>
    }
    <div class="scrollbar__dimmer scrollbar__dimmer-top"></div>
    <vgr-scrollbar>
      <ul class="search-results__items" role="listbox">
        @for (item of displayItems; track item; let i = $index) {
          <li class="search-results-item" [ngClass]="{'search-results-item--focused' : i === focusItem }"
            tabindex="-1" [attr.aria-label]="item.displayName" [attr.aria-selected]="item.selected">
            <a (click)="onItemClick(item)" title={{item.displayName}}>
              {{item.displayName[0]}}
              @if (item.displayName.length > 1) {
                <span [class.italic]="item.secondRowItalic">{{item.displayName[1]}}</span>
              }
            </a>
          </li>
        }
      </ul>
    </vgr-scrollbar>
    <div class="scrollbar__dimmer scrollbar__dimmer-bottom"></div>
  </div>
}
