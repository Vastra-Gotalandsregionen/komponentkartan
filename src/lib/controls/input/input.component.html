<div class="input-validation" [ngClass]="{
    'input-validation--suffixed' : suffix && suffix.length>0
  }">

  <div class="input-container">
    <input type="text" #inputTextBox class="input-container__textbox" (blur)="onBlur()" (focus)="onFocus()" [(ngModel)]="displayValue"
      (ngModelChange)="onChange($event)" [maxlength]="maxlength" [attr.readonly]="readonly ? '' : null">
    <div class="input-container__suffix-container">
      <div class="input-container__suffix-container__suffix">{{suffix}}</div>
      <div class="input-container__suffix-container__status-icon"></div>
    </div>
  </div>

  <div *ngIf="formControlName; then content1 else content2"></div>

  <ng-template #content1>
    <div class="input-validation_status" title="{{  errorMessage | errormessagehandler: hasFocus : control.errors : small }}">
      <div class="input-validation_status__icon"></div>
      <div *ngIf="!small" class="input-validation_status__message">{{errorMessage | errormessagehandler: hasFocus : control.errors : small | truncate:64}}</div>
      <div *ngIf="small" class="input-validation_status__message">{{errorMessage | errormessagehandler: hasFocus : control.errors : small | truncate:24}}</div>
    </div>
  </ng-template>

  <ng-template #content2>
    <div class="input-validation_status" title="{{ currentErrorMessage }}">
      <div class="input-validation_status__icon"></div>
      <div *ngIf="!small" class="input-validation_status__message">{{currentErrorMessage | truncate:64}}</div>
      <div *ngIf="small" class="input-validation_status__message">{{currentErrorMessage | truncate:24}}</div>
    </div>
  </ng-template>
</div>
