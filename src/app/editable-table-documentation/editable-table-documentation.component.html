<vgr-page>
  <vgr-page-body>
    <vgr-page-block>

      <vgr-button  buttonStyle="discreet" (click)="redigera = !redigera">
        <vgr-icon icon="pen" [solid]="true"></vgr-icon>
        {{redigera ? 'Redigera' : 'Avbryt'}}
      </vgr-button>

      <div style="padding-left: 20px; margin-top: 20px;">
        <h2>Editerbar tabell med satt höjd</h2>
      </div>
        <vgr-editable-table [editMode]="!redigera" [height]="'500px'">
          <vgr-editable-table-header>
            <vgr-editable-table-header-column [width]="'100px'">Produktkod</vgr-editable-table-header-column>
            <vgr-editable-table-header-column [width]="'350px'">Rubrik</vgr-editable-table-header-column>
            <vgr-editable-table-header-column [width]="'70px'" [align]="'center'">Konto</vgr-editable-table-header-column>
            <vgr-editable-table-header-column [width]="'100px'" [align]="'center'">Ansvar offentlig</vgr-editable-table-header-column>
            <vgr-editable-table-header-column [width]="'100px'" [align]="'center'">Ansvar privat</vgr-editable-table-header-column>
            <vgr-editable-table-header-column [width]="'100px'" [align]="'center'">Momskomp.</vgr-editable-table-header-column>
          </vgr-editable-table-header>
          <vgr-editable-table-row *ngFor="let d of data">
              <vgr-editable-table-column><div><span>61 </span><span style="font-weight: bold;">{{d.produktkod}}</span></div></vgr-editable-table-column>
              <vgr-editable-table-column>
                {{ d.rubrik }}
              </vgr-editable-table-column>
              <vgr-editable-table-column>
                <vgr-input [readonly]="redigera" [value]="d.konto" textAlign="right" [width]="'70px'"></vgr-input>
              </vgr-editable-table-column>
              <vgr-editable-table-column>
                <vgr-input [readonly]="redigera" [value]="d.ansvarOffentlig" textAlign="right" [width]="'100px'"></vgr-input>
              </vgr-editable-table-column>
              <vgr-editable-table-column>
                <vgr-input [readonly]="redigera" [value]="d.ansvarPrivat" textAlign="right" [width]="'100px'"></vgr-input>
              </vgr-editable-table-column>
              <vgr-editable-table-column>
                <vgr-checkbox [checked]="d.momsKompensation" [disabled]="redigera" style="display: inline-block;"></vgr-checkbox>
              </vgr-editable-table-column>
            </vgr-editable-table-row>
        </vgr-editable-table>

<hr>

      <vgr-button  buttonStyle="discreet" (click)="redigera2 = !redigera2">
        <vgr-icon icon="pen" [solid]="true"></vgr-icon>
        {{redigera2 ? 'Redigera2' : 'Avbryt2'}}
      </vgr-button>

      <div style="padding-left: 20px; margin-top: 20px;">
        <h2>Editerbar tabell utan höjd satt och i ett formulär</h2>
      </div>
      <div style="width:650px">
        <form [formGroup]="myForm">
        <vgr-editable-table [editMode]="!redigera2">
          <vgr-editable-table-header>
            <vgr-editable-table-header-column [align]="'left'" [width]="'150px'">AlignLeft</vgr-editable-table-header-column>
            <vgr-editable-table-header-column [align]="'center'" [width]="'250px'" >AlignCenter</vgr-editable-table-header-column>
            <vgr-editable-table-header-column [align]="'right'" [width]="'200px'">AlignRight</vgr-editable-table-header-column>
          </vgr-editable-table-header>

          <vgr-editable-table-row *ngFor="let d of myData.controls; let i = index" formArrayName="myFormArray">
            <ng-container [formGroupName]="i">
              <vgr-editable-table-column >{{ data2[i].nummer }}</vgr-editable-table-column>
              <vgr-editable-table-column>
                <vgr-datepicker [readonly]="redigera2" formControlName="datum" ></vgr-datepicker>
              </vgr-editable-table-column>
              <vgr-editable-table-column>
                <vgr-input [width]="'150px'" [errorMessage]="'valideringsfel'" textAlign="right" [readonly]="redigera2"  formControlName="text" [value]="d.text"></vgr-input>
              </vgr-editable-table-column>
              </ng-container>
            </vgr-editable-table-row>
        </vgr-editable-table>
      </form>
      </div>
    </vgr-page-block>
  </vgr-page-body>
</vgr-page>
