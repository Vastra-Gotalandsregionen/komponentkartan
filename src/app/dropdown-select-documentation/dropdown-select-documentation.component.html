<app-component-docs [componentName]="'Dropdown select'">
  <div class="docs__overview">

    <vgr-dropdown-select [multi]="true" [value]="vc_selected" [simpleLabel]="true" [disabled]="disabled">
      @for (enhet of vc_namn; track enhet) {
        <vgr-dropdown-item>{{enhet}}</vgr-dropdown-item>
      }
    </vgr-dropdown-select>


    <br><button (click)="andralangd()">ändra längd på dd</button><br>
    <p>Dropdown select finns i två bredder, har en rad olika alternativ och följer temafärg.</p>
    <vgr-dropdown-select [readonly]="readonly" [disabled]="disabled" #myDropdown>
      <vgr-dropdown-item>Apelsin</vgr-dropdown-item>
      <vgr-dropdown-item>Banan</vgr-dropdown-item>
      <vgr-dropdown-item>Citron</vgr-dropdown-item>
    </vgr-dropdown-select>

    <br><br>
    <vgr-button (click)="setFocus()">Sätt fokus</vgr-button>
    <vgr-button [buttonStyle]="'secondary'" (click)="toggleReadonly()">Readonly</vgr-button>
    <vgr-button [buttonStyle]="'secondary'" [disabled]="readonly" (click)="toggleDisabled(disabled)">
    {{ disabled ? 'Aktivera' : 'Inaktivera'}}</vgr-button>
    <br><br>

    <p>Detta händer automatiskt:</p>
    <ul>
      <li>Scroll visas när listan blir för lång (ca. 8 alternativ). Den krymper för att passa antalet alternativ, om de
      är få.</li>
      <li>Sökfält för filtrering visas vid över 20 val.</li>
      <li>Om alternativets text är lång, bryts texten på flera rader.</li>
    </ul>
    <p>Detta kan ställas in vid implementation:</p>
    <ul>
      <li>Val av ett alternativ åt gången eller flera (multiselect).</li>
      <li>Visning av valda alternativ antingen i klartext eller antal valda alternativ. Om klartext väljs, skapas en
        lista av alla valda alternativ som är synlig i sin helhet i tooltip på hover. Om det är lämpligt att ställa in
      en annan visningstext för den listan, går det att lägga in per alternativ.</li>
      <li>Alternativen kan utformas så som är lämpligt för det specifika fallet. T.ex. kan varje alternativ kan ha
      flera informationsbitar, om en stödinformation behövs för att göra valet.</li>
      <li>Texten som visas innan val gjorts kan ställas in fritt.</li>
    </ul>
    <p> Förändras med tema:
      <strong>ja</strong>
    </p>
  </div>
  <div class="docs__examples">
    <section>
      <div style="width: 80%;">
        <vgr-action-panel [open]="open1" [title]="'Ett exempel på en action panel'" (openChanged)="open1 = $event">
          <vgr-dropdown-select [deselectable]="true">
            @for (item of items50; track item) {
              <vgr-dropdown-item>{{item}}</vgr-dropdown-item>
            }
          </vgr-dropdown-select>
        </vgr-action-panel>
      </div>
      <div class="row-layout">
        <div class="one-third">
          <p>Liten, 5 alternativ</p>
          <vgr-dropdown-select width="130px" [deselectable]="true">
            @for (item of items5; track item) {
              <vgr-dropdown-item>{{item}}</vgr-dropdown-item>
            }
          </vgr-dropdown-select>
        </div>
        <div class="one-third">
          <p>Stor, 50 alternativ</p>
          <vgr-dropdown-select [deselectable]="true">
            @for (item of items50; track item) {
              <vgr-dropdown-item>{{item}}</vgr-dropdown-item>
            }
          </vgr-dropdown-select>
        </div>
        <div class="one-third">
          <p>Alternativ med extra information</p>
          <vgr-dropdown-select [multi]="true" [width]="'100%'">
            @for (item of items50; track item) {
              <vgr-dropdown-item [selectedLabel]="item">
                <div>{{item}}</div>
                <div style="font-style: italic">Information</div>
              </vgr-dropdown-item>
            }
          </vgr-dropdown-select>
        </div>
      </div>
    </section>
    <section>
      <div class="row-layout">
        <div class="one-third">
          <p>Aktiv</p>
          <vgr-dropdown-select width="130px" [formControl]="form">
            <vgr-dropdown-item [value]="itemValue">{{itemLabel}}</vgr-dropdown-item>
          </vgr-dropdown-select>
        </div>
        <div class="one-third">
          <p>Inaktiv</p>
          <vgr-dropdown-select width="130px" [formControl]="form1">
            <vgr-dropdown-item [value]="itemValue">{{itemLabel}}</vgr-dropdown-item>
          </vgr-dropdown-select>
        </div>
        <div class="one-third">
          <p>Endast visning</p>
          <vgr-dropdown-select [small]="false" [readonly]="true" [formControl]="form">
            <vgr-dropdown-item [value]="itemValue">
              {{itemLabel}}
            </vgr-dropdown-item>
          </vgr-dropdown-select>
        </div>
      </div>
    </section>
    <section>
      <h3>Reactive</h3>
      <vgr-dropdown-select [formControl]="formControl" [deselectable]="true" width="500px">
        @for (item of items50; track item) {
          <vgr-dropdown-item>{{item}}</vgr-dropdown-item>
        }
      </vgr-dropdown-select>
      <br>
        <br>
          <vgr-button [buttonStyle]="'secondary'" (click)="toggleDisabledFormControl(formControlDisabled)">
          {{ formControlDisabled ? 'Aktivera' : 'Inaktivera'}}</vgr-button>
        </section>
        <section style="display: flex; justify-content: space-between;">
          <div>
            <h3>Vänsterjusterad</h3>
            <vgr-dropdown-select [deselectable]="true">
              @for (item of items50; track item) {
                <vgr-dropdown-item>{{item}}</vgr-dropdown-item>
              }
            </vgr-dropdown-select>
          </div>
          <div>
            <h3>Högerjusterad</h3>
            <vgr-dropdown-select [deselectable]="true" [rightAlign]="true">
              @for (item of items50; track item) {
                <vgr-dropdown-item>{{item}}</vgr-dropdown-item>
              }
            </vgr-dropdown-select>
          </div>
        </section>
        <section style="display: flex; justify-content: space-between;">
          <div>
            <h4>Vänsterjusterad och upptill</h4>
            <vgr-dropdown-select [deselectable]="true" [topAlign]="true">
              @for (item of items50; track item) {
                <vgr-dropdown-item>{{item}}</vgr-dropdown-item>
              }
            </vgr-dropdown-select>
          </div>
          <div>
            <h3>Högerjusterad och upptill</h3>
            <vgr-dropdown-select [deselectable]="true" [topAlign]="true" [rightAlign]="true">
              @for (item of items50; track item) {
                <vgr-dropdown-item>{{item}}</vgr-dropdown-item>
              }
            </vgr-dropdown-select>
          </div>
        </section>
      </div>
      <div class="docs__api">
        <h2>DropdownSelect</h2>
        <table class="property-table">
          <tr>
            <th>Namn</th>
            <th>Beskrivning</th>
            <th>Exempel</th>
          </tr>
          <tr>
            <td>multi: boolean</td>
            <td>Ger möjlighet att välja fler än ett val. Förvalt värde är
              <code>false</code>.</td>
              <td>[multi]="true"</td>
            </tr>
            <tr>
              <td>small: string</td>
              <td>Gör det valda alternativet kortare. Förvalt värde är
                <code>false</code>.</td>
                <td>width="130px"</td>
              </tr>
              <tr>
                <td>deselectable: boolean</td>
                <td>Visar en knapp som gör det möjligt att återställa till inget val efter att ett val gjorts. Förvalt värde är
                  <code>false</code>.</td>
                  <td>[deselectable]="true"</td>
                </tr>
                <tr>
                  <td>simpleLabel: boolean</td>
                  <td>Gör texten för valda alternativ kortare vid multi. Förvalt värde är
                    <code>false</code>.</td>
                    <td>[simpleLabel]="true"</td>
                  </tr>
                  <tr>
                    <td>noItemSelectedLabel: string</td>
                    <td>Ändrar texten som visas då inget val gjorts. Förvalt värde är
                      <code>Välj</code>.</td>
                      <td>[noItemSelectedLabel]="'Gör ett val'"</td>
                    </tr>
                    <tr>
                      <td>readonly: boolean</td>
                      <td>Gör att textfält med valt värde visas. Förvalt värde är
                        <code>false</code>.</td>
                        <td>[readonly]="true"</td>
                      </tr>
                      <tr>
                        <td>disabled: boolean</td>
                        <td>Förhindrar interaktion. Förvalt värde är
                          <code>false</code>.</td>
                          <td>[disabled]="true"</td>
                        </tr>
                        <tr>
                          <td>showValidation: boolean</td>
                          <td>Anger om valideringsfel ska visas eller ej. Förvalt värde är
                            <code>false</code>.</td>
                            <td>[showValidation]="true"</td>
                          </tr>
                          <tr>
                            <td>compareWith: (o1: any, o2: any) => boolean</td>
                            <td>Möjlighet att ändra hur items jämförs. Detta är användbart om items sätts om till nya, men motsvarande
                              värden, till exempel då de hämtas via ett fjärranrop till servern och detta upprepas. Förvalt värde jämför
                            med vanlig equality.</td>
                            <td>[showValidation]="true"</td>
                          </tr>
                          <tr>
                            <td>selectedChanged: EventEmitter&lt;any&gt;</td>
                            <td>Event som triggas när val ändras av användaren. Värdet är det nya valet.</td>
                            <td>(selectedChanged)="doSomething($event)"</td>
                          </tr>

                          <!-- New functionallity in "Next breacking change release" Copy into komponenetkartan-demo when finished.-->
                          <tr>
                            <td>focus()</td>
                            <td>Metod man kan anropa för att programmatiskt kan sätta fokus på komponenten. </td>
                            <td>this.myDropdown.focus()</td>
                          </tr>
                        </table>
                        <br>
                          <h2>DropdownItem</h2>
                          <table class="property-table">
                            <tr>
                              <th>Namn</th>
                              <th>Beskrivning</th>
                              <th>Exempel</th>
                            </tr>
                            <tr>
                              <td>selectedLabel: string</td>
                              <td>Ger möjlighet att visa en annan text när alternativet är valt.</td>
                              <td>[selectedLabel]="'Ett kortare namn'"</td>
                            </tr>
                            <tr>
                              <td>value: any</td>
                              <td>Värde att binda till för reactive forms.</td>
                              <td>[value]="someObject"</td>
                            </tr>
                            <tr>
                              <td>deselectable: boolean</td>
                              <td>Visar en knapp som gör det möjligt att återställa till inget val efter att ett val gjorts. Förvalt värde är
                                <code>false</code>.</td>
                                <td>[deselectable]="true"</td>
                              </tr>
                              <tr>
                                <td>selectedChanged: EventEmitter&lt;any&gt;</td>
                                <td>Event som triggas när val ändras av användaren. Värdet är <code>true</code> om alternativet valts och
                                <code>false</code>
                                om det avvalts. Används av <code>&lt;vgr-dropdown-select&gt;</code>.</td>
                                <td></td>
                              </tr>
                              <tr>
                                <td>previous: EventEmitter</td>
                                <td>Event som triggas av pil-upptangenten. Används av <code>&lt;vgr-dropdown-select&gt;</code>.</td>
                                <td></td>
                              </tr>
                              <tr>
                                <td>next: EventEmitter</td>
                                <td>Event som triggas av pil-nedtangenten. Används av <code>&lt;vgr-dropdown-select&gt;</code>.</td>
                                <td></td>
                              </tr>
                            </table>
                          </div>
                        </app-component-docs>
